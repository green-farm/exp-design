$(function(){function h(e){var b=[],d=f[e].row,c=f[e].col;0<d&&b.push(4*(d-1)+c);4>d&&b.push(4*(d+1)+c);0<c&&b.push(e-1);4>c&&b.push(e+1);return b}for(var f={},a=0;16>a;a++){$("#dvPuzzle").append("<div class='PicCell' id='Pic"+a+"'><img src='img/classmate-all_01.jpg' /></div>");var g=parseInt(a/4),k=a%4;$("#Pic"+a+" img").css("margin-left",-120*k+1).css("margin-top",-120*g+1);f[a]={row:g,col:k}}$("#Pic0 img").remove();$(".PicCell").click(function(){for(var e=$("#dvPuzzle div"),b=e.index(this),d=h(b);0<
d.length;){var c=d.pop();if("Pic0"==e.eq(c).attr("id")){if(b>c){var a=c;c=b;b=a}a=e.eq(b);var f=e.eq(c),g=f.prev();1==Math.abs(b-c)?f.after(a):(a.after(f),g.after(a))}}});$("input:button").click(function(){for(var a=0;500>a;a++){var b=$("#dvPuzzle div"),d=h(b.index($("#Pic0")[0]));b.eq(d[parseInt(Math.random()*d.length)]).click()}})});