var col,row;
$(document).ready(function(){var k,l;for(l=0;8>l;l++)for(k=0;7>k;k++)$("#"+k+""+l).hide();$("#createBtn").click(function(){$("#dataForm").empty();col=$("#num1").find(":selected").text();row=$("#num2").find(":selected").text();var b='<input type="text" class="row" disabled></input>',a,c;for(a=0;a<col;a++)switch(a){case 0:b+='<input type="text" class="col" id="col1" value="I" disabled></input>';break;case 1:b+='<input type="text" class="col" id="col2" value="II" disabled></input>';break;case 2:b+='<input type="text" class="col" id="col3" value="III" disabled></input>';
break;case 3:b+='<input type="text" class="col" id="col4" value="IV" disabled></input>';break;case 4:b+='<input type="text" class="col" id="col5" value="V" disabled></input>';break;case 5:b+='<input type="text" class="col" id="col6" value="VI" disabled></input>';break;default:b+='<input type="text" class="col" id="col1" value="I" disabled></input>'}b+="<br>";for(c=1;c<=row;c++){b+='<input type="text" class="row" value="'+c+'" disabled/>';for(a=1;a<=col;a++)b+='<input class="data" type="text" id="'+
a+""+c+'">';b+="<br>"}$("#dataForm").append(b)});$("#anovaBtn").click(function(){var b=Array(col),a,c;for(a=0;a<col;a++)b[a]=Array(row);for(c=0;c<row;c++)for(a=0;a<col;a++)b[a][c]=parseFloat($("#"+(a+1)+""+(c+1)).val());var e=0,g=Array(col),f=Array(col);for(a=0;a<col;a++){for(c=g[a]=0;c<row;c++)g[a]+=b[a][c],e+=b[a][c];f[a]=Math.round(g[a]/row*100)/100}c=Math.round(e/(col*row)*100)/100;e=Math.round(100*e)/100;var d='<input type="text" class="row" value="sum" disabled/>';for(a=0;a<col;a++)d+='<input type="text" class="sum" value="'+
g[a]+'" disabled/>';d=d+('<input type="text" class="sum" value="'+e+'" disabled/>')+('<input type="text" class="mean" value="'+c+'" disabled/>')+'<br><input type="text" class="row" value="mean" disabled/>';for(a=0;a<col;a++)d+='<input type="text" class="mean" value="'+f[a]+'" disabled/>';d+='<input type="text" class="mean" value="'+c+'" disabled/>';d+='<input type="text" class="mean" value="" disabled/>';$("#dataForm").append(d);e=Array(row);f=Array(row);for(c=0;c<row;c++){for(a=e[c]=0;a<col;a++)e[c]+=
b[a][c];f[c]=Math.round(e[c]/col*100)/100;e[c]=Math.round(100*e[c])/100;d='<input type="text" class="sum" value="'+e[c]+'" disabled/>';d+='<input type="text" class="mean" value="'+f[c]+'" disabled/>';$("#"+col+""+(c+1)).after(d)}d='<input type="text" class="col" value="sum" disabled/><input type="text" class="col" value="mean" disabled/>';$("#col"+col).after(d);d=Array(4);d[0]=col*row-1;d[1]=col-1;d[2]=row-1;d[3]=d[0]-d[1]-d[2];$("#df1").text(d[0]);$("#df2").text(d[1]);$("#df3").text(d[2]);$("#df4").text(d[3]);
for(a=f=0;a<col;a++)f+=g[a];f=Math.round(f*f/(col*row)*100)/100;var h=0;for(c=0;c<row;c++)for(a=0;a<col;a++)h+=b[a][c]*b[a][c];b=Array(4);b[0]=h-f;b[0]=Math.round(100*b[0])/100;$("#ss1").text(b[0]);for(a=h=0;a<col;a++)h+=g[a]*g[a];h=Math.round(h/row*100)/100;b[1]=h-f;b[1]=Math.round(100*b[1])/100;$("#ss2").text(b[1]);for(c=h=0;c<row;c++)h+=e[c]*e[c];h/=col;b[2]=h-f;b[2]=Math.round(100*b[2])/100;$("#ss3").text(b[2]);b[3]=b[0]-b[1]-b[2];b[3]=Math.round(100*b[3])/100;$("#ss4").text(b[3]);a=Array(3);
a[0]=Math.round(b[1]/d[1]*100)/100;a[1]=Math.round(b[2]/d[2]*100)/100;a[2]=Math.round(b[3]/d[3]*100)/100;$("#ms2").text(a[0]);$("#ms3").text(a[1]);$("#ms4").text(a[2]);g=Math.round(a[0]/a[2]*100)/100;$("#f2").text(g);g=Math.round(a[1]/a[2]*100)/100;$("#f3").text(g)})});
