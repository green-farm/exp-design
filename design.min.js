var col,row;
$(document).ready(function(){var h,k;for(k=0;8>k;k++)for(h=0;7>h;h++)$("#"+h+""+k).hide();$("#createBtn").click(function(){$("#dataForm").empty();col=$("#num1").find(":selected").text();row=$("#num2").find(":selected").text();var b='<input type="text" class="row" disabled></input>',a,c;for(a=0;a<col;a++)switch(a){case 0:b+='<input type="text" class="col" value="I" disabled></input>';break;case 1:b+='<input type="text" class="col" value="II" disabled></input>';break;case 2:b+='<input type="text" class="col" value="III" disabled></input>';break;
case 3:b+='<input type="text" class="col" value="IV" disabled></input>';break;case 4:b+='<input type="text" class="col" value="V" disabled></input>';break;case 5:b+='<input type="text" class="col" value="VI" disabled></input>';break;default:b+='<input type="text" class="col" value="I" disabled></input>'}b+="<br>";for(c=1;c<=row;c++){b+='<input type="text" class="row" value="'+c+'" disabled></input>';for(a=1;a<=col;a++)b+='<input class="data" type="text" id="'+a+""+c+'">';b+="<br>"}$("#dataForm").append(b)});
$("#anovaBtn").click(function(){var b=Array(col),a,c;for(a=0;a<col;a++)b[a]=Array(row);for(c=0;c<row;c++)for(a=0;a<col;a++)b[a][c]=parseFloat($("#"+(a+1)+""+(c+1)).val());var e=Array(col),d=Array(col);for(a=0;a<col;a++){for(c=e[a]=0;c<row;c++)e[a]+=b[a][c];e[a]=Math.round(100*e[a])/100;d[a]=Math.round(e[a]/row*100)/100}c='<input type="text" class="row" value="sum" disabled></input>';for(a=0;a<col;a++)c+='<input type="text" class="sum" value="'+e[a]+'" disabled/>';c+='<br><input type="text" class="row" value="mean" disabled></input>';
for(a=0;a<col;a++)c+='<input type="text" class="mean" value="'+d[a]+'" disabled/>';$("#dataForm").append(c);d=Array(3);d[0]=col*row-1;d[1]=col-1;d[2]=d[0]-d[1];$("#df1").text(d[0]);$("#df2").text(d[1]);$("#df3").text(d[2]);var g=0;for(a=0;a<col;a++)g+=e[a];g=Math.round(g*g/(col*row)*100)/100;var f=0;for(c=0;c<row;c++)for(a=0;a<col;a++)f+=b[a][c]*b[a][c];b=Array(3);b[0]=f-g;b[0]=Math.round(100*b[0])/100;$("#ss1").text(b[0]);for(a=f=0;a<col;a++)f+=e[a]*e[a];f=Math.round(f/row*100)/100;b[1]=f-g;b[1]=
Math.round(100*b[1])/100;$("#ss2").text(b[1]);b[2]=b[0]-b[1];b[2]=Math.round(100*b[2])/100;$("#ss3").text(b[2]);a=Array(2);a[0]=Math.round(b[1]/d[1]*100)/100;a[1]=Math.round(b[2]/d[2]*100)/100;$("#ms2").text(a[0]);$("#ms3").text(a[1]);a=Math.round(a[0]/a[1]*100)/100;$("#f2").text(a);$("#f-test").text("F(alpha, "+d[1]+", "+d[2]+") \u8cc7\u6599\u8acb\u67e5\u8868.")})});